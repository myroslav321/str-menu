(()=>{"use strict";(()=>{function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}const t=function(){var t,n,o,r=document.querySelector(".header"),i=document.querySelector(".offset-menu__wrp"),s=document.querySelector(".offset-menu__control"),a=document.querySelector(".offset-menu__close-button"),l=(document.querySelectorAll(".offset-menu__link "),!1),c=!1,u=0,d=(t=document.querySelector("body"),n=0,o=!1,{disable:function(e){o||(o=!o,n=window.pageYOffset,t.style.overflow="hidden",t.style.position="fixed",t.style.top="-".concat(n,"px"),t.style.width="100%",e&&"function"==typeof e&&e(n))},enable:function(e){o&&(o=!o,t.style.removeProperty("overflow"),t.style.removeProperty("position"),t.style.removeProperty("top"),t.style.removeProperty("width"),window.scrollTo({top:n,behavior:"instant"}),e&&"function"==typeof e&&e())}}),f=function(){(c=!c)?d.disable():d.enable(),r.classList.toggle("_nav-open",c),document.body.classList.add("_nav-transition")},m=function(){s.addEventListener("click",f),a.addEventListener("click",(function(){var t;c=!c,l=!l,d.enable(),r.classList.remove("_nav-open"),(t=document.querySelectorAll("._sub-2__visible"),function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e){e.classList.remove("_sub-2__visible")})),u=0,v()}))},v=function(){var e=i.querySelector(".offset-menu__last-level");e&&e.remove()};return{init:function(){m(),document.addEventListener("click",(function(e){var t,n,o=window.innerWidth;if("sub"===e.target.dataset.show){u=2;var s=e.target.nextElementSibling.classList.contains("_level-3");o<992?e.target.classList.add("_sub-2__visible"):s?(v(),function(e){var t=document.createElement("div"),n=t.classList;t.classList.add("offset-menu__last-level"),l&&t.classList.add("_show"),t.appendChild(e),i.appendChild(t);var o=setTimeout((function(){l||(l=!l,n.add("_show")),clearTimeout(o)}),14)}(e.target.nextElementSibling.cloneNode(!0))):e.target.classList.add("_sub-2__visible"),e.preventDefault()}"back"===e.target.dataset.action&&((t=e.target,n="offset-menu__list-item",function e(t){var o=t.parentElement;return o?o.classList.contains(n)?o:e(o):null}(t)).querySelector("._sub-2__visible").classList.remove("_sub-2__visible"),l=!l,u=1,v()),e.target.dataset.target&&(e.preventDefault(),document.querySelector("[data-ref='".concat(e.target.dataset.target,"']")).classList.add("_sub-2__visible"),u=2,f()),r.classList.toggle("_sub-open",u>1)}))}}};document.addEventListener("DOMContentLoaded",(function(){(new t).init()}))})()})();
//# sourceMappingURL=bundle-main.js.map